#pragma once
#include "stdafx.hpp"
#include "CVar.hpp"

namespace m3d {
	class IConsole;
}

namespace m3d
{
	struct EngineConfig
	{
    public:
        IConsole* m_console = nullptr;

    public:
        EngineConfig();
        virtual ~EngineConfig();
        virtual int GetModelIdByName(CStr const&);
        virtual CStr GetNameByModelId(int);
        virtual float GetHeight(float, float);
        virtual float GetAnimationLength(int, int);
        virtual float GetAttackAnimationFrametime(int, int);
        int Load(CStr const& fname);
        int Save(CStr const&);

        HWND m_mainWnd = NULL;
        CVar m_r_d3dVersion;
        CVar m_r_height;
        CVar m_r_width;
        CVar m_r_bpp;
        CVar m_r_depthBpp;
        CVar m_r_depthBias;
        CVar m_r_fullScreen;
        CVar m_r_compressedTextures;
        CVar m_r_behavior;
        CVar m_r_texLodBias;
        CVar m_r_renderToNull;
        CVar m_r_renderZGuard;
        CVar m_r_enableFog;
        CVar m_r_maxLights;
        CVar m_r_allowPS20;
        CVar m_r_allowPS20ForNV30;
        CVar m_r_dxcursor;
        CVar m_r_multiSamplesNum;
        CVar m_r_waterQuality;
        CVar m_r_shadersMacros[8];
        CVar m_r_waterInQuery;
        CVar m_r_graphicalStats_Fps;
        CVar m_r_graphicalStats_Dip;
        CVar m_r_graphicalStats_Dp;
        CVar m_r_graphicalStats_Fillrate;
        CVar m_r_graphicalStats_Tris;
        CVar m_r_graphicalStats_MemUsed;
        CVar m_r_graphicalStats_MemAlloc;
        CVar m_r_graphicalStats_MemOverhead;
        CVar m_g_stencilShadows;
        CVar m_g_twoSidedStencil;
        CVar m_g_stencilShadowsDebug;
        CVar m_g_renderMeshesDebug;
        CVar m_g_showReflRefrMaps;
        CVar m_g_drawWater;
        CVar m_g_ps11_water_reflection_amount;
        CVar m_g_ps11_water_refraction_amount;
        CVar m_g_grassDrawDist;
        CVar m_g_grassAlphatest;
        CVar m_g_drawSky;
        CVar m_g_reflectionDrawDistModifier;
        CVar m_g_refractionDrawDistModifier;
        CVar m_g_drawReflectedTerrain;
        CVar m_g_drawRefractedTerrain;
        CVar m_g_drawReflectedModels;
        CVar m_g_drawRefractedModels;
        CVar m_g_postEffectBloom;
        CVar m_g_drawRoads;
        CVar m_g_drawWheelTraces;
        CVar m_g_drawShores;
        CVar m_g_impostorThreshold;
        CVar m_g_showProjectorsStats;
        CVar m_g_projectorsFarDist;
        CVar m_g_showEffectsStats;
        CVar m_g_showShadowsStats;
        CVar m_g_shadowFarDist;
        CVar m_g_shadowBlur;
        CVar m_g_shadowBlurCoeff;
        CVar m_g_shadowDetailRadius;
        CVar m_g_shadowAlphaTest;
        CVar m_g_switchCameraAllow;
        CVar m_g_altEnterAllow;
        CVar m_g_transparentRadius;
        CVar m_g_transparencyValue;
        CVar m_testShadowRenderToLandscape;
        CVar m_testShadowRenderToRoad;
        CVar m_testShadowRenderToGrass;
        CVar m_testShadowRenderToTexture;
        CVar m_testShadowActualRenderToTexture;
        CVar m_debugMode;
        CVar m_consoleScreenSize;
        CVar m_loadFromGAM;
        CVar m_weather_ConfigFile;
        CVar m_weather_AtmoRadius;
        CVar m_weather_PathToTextures;
        CVar m_NPatchLevel;
        CVar m_levFileName;
        CVar m_ttledObjectFadeoutTime;
        CVar m_alphaTestWorld;
        CVar m_alphaTestInterface;
        CVar m_lsShadows;
        CVar m_lsWireframe;
        CVar m_lsViewDistanceDivider;
        CVar m_lsTau;
        CVar m_lsTransitionDevider;
        CVar m_lsTransitionCFactor;
        CVar m_FogOfWar;
        CVar m_clampCells;
        CVar m_selectOrigin;
        CVar m_skidOpaque;
        CVar m_skidMinDist;
        CVar m_skidTexName;
        CVar m_skidDeltaSpeed;
        CVar m_g_texturesFilter;
        CVar m_g_antiAliasing;
        CVar m_g_shoresDeep;
        CVar m_g_shoresWidth;
        CVar m_g_shoresElevation;
        CVar m_g_shoresOpaque;
        CVar m_g_shoresMipBias;
        CVar m_g_shakeLinearAmplitude;
        CVar m_g_shakeAngleAmplitude;
        CVar m_g_shakeMinRange;
        CVar m_g_forceWaterPSVersion;
        CVar m_ssRender;
        CVar m_cgDraw;
        CVar m_dsRender;
        CVar m_dsShadows;
        CVar m_esRender;
        CVar m_esShadows;
        CVar m_lgtRender;
        CVar m_lgtHalos;
        CVar m_lgtFlares;
        CVar m_lgtShadows;
        CVar m_lgtShadowTexSz;
        CVar m_detShadowTexSz;
        CVar m_g_contourWidth;
        CVar m_g_contourColor;
        CVar m_gammaGamma;
        CVar m_gammaBrightness;
        CVar m_gammaContrast;
        CVar m_snd_Enable;
        CVar m_snd_2dVolume;
        CVar m_snd_3dVolume;
        CVar m_snd_MaxSounds;
        CVar m_snd_SampleRate;
        CVar m_snd_BitsPerSample;
        CVar m_mus_Enable;
        CVar m_mus_Volume;
        CVar m_autoPlayVideo;
        CVar m_video[4];
        CVar m_intro;
        CVar m_ui_pathToResource;
        CVar m_ui_pathToSchema;
        CVar m_ui_pathToFrames;
        CVar m_ui_pathToFonts;
        CVar m_ui_pathToLanguageTable;
        CVar m_ui_pathToGameWindows;
        CVar m_ui_pathToCharDictionary;
        CVar m_ui_pathToStrings;
        CVar m_ui_codePageName;
        CVar m_ui_dblClickDelay;
        CVar m_ui_forceHieroglyphicFont;
        CVar m_ui_defaultWndAnimationShowType;
        CVar m_ui_defaultWndAnimationHideType;
        CVar m_ui_defaultWndAnimationShowSpeed;
        CVar m_ui_defaultWndAnimationHideSpeed;
        CVar m_ui_defaultWndAnimationShowAccel;
        CVar m_ui_defaultWndAnimationHideAccel;
        CVar m_input_defaultInputLanguageBase;
        CVar m_input_baseKeyboardLayot;
        CVar m_input_additionalKeyboardLayot;
        CVar m_markerColors[16];
        CVar m_demoPlaybackSpeed;
        CVar m_profile;
        CVar m_campaign;
        CVar m_net_Logging;
        CVar m_net_SequenceSizeMax;
        CVar m_net_SequenceSizeMin;
        CVar m_net_NearDistMax;
        CVar m_net_NearDistMin;
        CVar m_net_FarDistMax;
        CVar m_net_FarDistMin;
        CVar m_net_TroopDelayMax;
        CVar m_net_TroopDelayMin;
        CVar m_net_TownDelayMax;
        CVar m_net_TownDelayMin;
        CVar m_net_LairDelayMax;
        CVar m_net_LairDelayMin;
        CVar m_net_CheckVersion;
        CVar m_net_GameName;
        CVar m_net_Quality;
        CVar m_net_Debug;
        CVar m_UseCinematicUpdate;
        CVar m_CommonTroopLife;
        CVar m_StepMode;
        CVar m_IDDebug;
        CVar m_ai_location_debug;
        CVar m_ai_infection_debug;
        CVar m_ai_waypoint_debug;
        CVar m_ai_physicobject_debug;
        CVar m_ai_team_debug;
        CVar m_ai_passmap_debug;
        CVar m_ai_playerpassmap_debug;
        CVar m_ai_mouse_debug;
        CVar m_ai_obstacles_debug;
        CVar m_ai_compositeobj_debug;
        CVar m_ai_guns_debug;
        CVar m_ai_min_frame_time;
        CVar m_ai_turntowheels_allowed;
        CVar m_ai_tweak_wheel_normals;
        CVar m_ai_tweak_vehicle_normals;
        CVar m_ai_vehicle_stats;
        CVar m_ai_clash_coeff;
        CVar m_ai_min_hit_velocity;
        CVar m_ai_ragdoll_activate_force;
        CVar m_ai_bo_activate_coeff;
        CVar m_ai_ragdoll_shell_coeff;
        CVar m_ai_ragdoll_mass_size_coeff;
        CVar m_ai_bo_mass_size_coeff;
        CVar m_ai_enemies_ramming_damage_coeff;
        CVar m_ai_player_weapons_damage_coeff;
        CVar m_ai_physicstep;
        CVar m_ai_physicstep_numiterations;
        CVar m_ai_physicstep_w;
        CVar m_ai_physicstep_erp;
        CVar m_ai_physicstep_cfm;
        CVar m_ai_physicstep_surfacelayer;
        CVar m_ai_physicstep_lineardamping;
        CVar m_ai_physicstep_angulardamping;
        CVar m_ai_physicstep_max_correcting_vel;
        CVar m_ai_geomobjcollider_mu;
        CVar m_ai_geomobjcollider_cfm;
        CVar m_ai_geomobjcollider_erp;
        CVar m_ai_ragdolljoints_erp;
        CVar m_ai_ragdolljoints_cfm;
        CVar m_ai_ragdolljoints_stopcfm;
        CVar m_ai_wheelcollider_erp;
        CVar m_ai_wheelcollider_cfm;
        CVar m_ai_static_obstacles_enabled;
        CVar m_DoNotLoadMainmenuLevel;
        CVar m_mainMenuLevelName;
        CVar m_firstLevel;
        CVar m_pathToDefaultKeyBindings;
        CVar m_pathToGlobProps;
        CVar m_pathToSoilProps;
        CVar m_snd_pathToMusic;
        CVar m_snd_pathToSounds;
        CVar m_snd_pathToMusicBlocks;
        CVar m_snd_pathToTownAmbient;
        CVar m_snd_pathToRadioSounds;
        CVar m_snd_pathToRadioSamples;
        CVar m_snd_pathToSoundGroups;
        CVar m_pathToBelongsToLogos;
        CVar m_timer_fixedtimestep;
        CVar m_timer_timestepvalue;
        CVar m_cinematic_spring_coeff;
        CVar m_camInfo;
        CVar m_mouseMinSensitivity;
        CVar m_mouseMaxSensitivity;
        CVar m_dbg_doNotUpdateAI;
        CVar m_dbg_intVar1;
        CVar m_dbg_intVar2;
        CVar m_dbg_intVar3;
        CVar m_dbg_boolVar1;
        CVar m_dbg_boolVar2;
        CVar m_dbg_boolVar3;
        CVar m_dbg_floatVar1;
        CVar m_dbg_floatVar2;
        CVar m_dbg_floatVar3;
        CVar m_loc_formsQuantity;
        CVar m_clipCursorWithinRenderWnd;
        CVar m_hasServers;
        CVar m_fadingTimeBeforeNextMap;
	};
}